---
import Layout from '../layouts/Layout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import EducationSection from '../components/EducationSection.astro';
import ExperienceCard from '../components/ExperienceCard.astro';
import { education, experience, projects, site } from '../data/site';

const featured = projects.filter((p) => p.featured).slice(0, 4);
const featuredExperience = experience.filter((e) => e.featured).slice(0, 2);
---

<Layout
	title={`${site.name} — ${site.roles[0]}`}
	description={`${site.valueProp} View selected projects, read about my focus areas, and download my resume.`}
>
	<section class="grid gap-10">
		<div class="grid-panel p-6">
			<p class="mono text-xs font-semibold uppercase tracking-wider text-[rgb(var(--muted))]">
				{site.location}
			</p>
			<h1 class="mt-3 text-3xl font-semibold tracking-tight text-[rgb(var(--fg))] sm:text-4xl">
				{site.name}
			</h1>
			<p class="mt-2 text-lg text-[rgb(var(--muted))]">{site.roles.join(' • ')}</p>
			<p class="mt-4 max-w-2xl text-base leading-7 text-[rgb(var(--muted))]">{site.valueProp}</p>

			<div class="mt-6 flex flex-wrap gap-3">
				<a
					class="focus-ring inline-flex items-center justify-center bg-[rgb(var(--accent))] px-4 py-2 text-sm font-semibold text-[rgb(var(--bg))] no-underline shadow-sm hover:opacity-95"
					href="/resume"
				>
					Resume
				</a>
				<a
					class="focus-ring inline-flex items-center justify-center border border-[rgb(var(--border))] bg-[rgb(var(--bg))] px-4 py-2 text-sm font-semibold text-[rgb(var(--fg))] no-underline shadow-sm hover:border-[rgb(var(--accent))]"
					href={`mailto:${site.email}`}
				>
					Email
				</a>
				<a
					class="focus-ring inline-flex items-center justify-center border border-[rgb(var(--border))] bg-[rgb(var(--bg))] px-4 py-2 text-sm font-semibold text-[rgb(var(--fg))] no-underline shadow-sm hover:border-[rgb(var(--accent))]"
					href="/projects"
				>
					View projects
				</a>
			</div>
		</div>

		<section class="space-y-4">
			<div class="flex items-baseline justify-between gap-4">
				<h2 class="mono text-sm font-semibold uppercase tracking-wider text-[rgb(var(--fg))]">
					Featured projects
				</h2>
				<a class="focus-ring text-sm text-[rgb(var(--muted))] hover:text-[rgb(var(--fg))]" href="/projects">
					All projects →
				</a>
			</div>
			
			<div class="grid gap-4 sm:grid-cols-2">
				{featured.map((p) => <ProjectCard project={p} variant="compact" />)}
			</div>
		</section>

		<section class="space-y-4">
			<div class="flex items-baseline justify-between gap-4">
				<h2 class="mono text-sm font-semibold uppercase tracking-wider text-[rgb(var(--fg))]">
					Featured experience
				</h2>
				<a class="focus-ring text-sm text-[rgb(var(--muted))] hover:text-[rgb(var(--fg))]" href="/experience">
					All experience →
				</a>
			</div>

			<div class="grid gap-4 sm:grid-cols-2">
				{featuredExperience.map((e) => <ExperienceCard experience={e} variant="compact" />)}
			</div>
		</section>
		<div>
			<EducationSection education={education} />
		</div>
	</section>
</Layout>
